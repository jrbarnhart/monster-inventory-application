extends layout 

block content
  div.monsterinstance-create-content
    form(method="POST" action="")
      div.form-section 
        label(for="nickname") Nickname:
        input#nickname(type="text" name="nickname" placeholder="Nickname" required="true" value=(undefined===monsterinstance ? "" : monsterinstance.nickname)) 
        label(for="monster") Monster: 
        select#monster(type="select" name="monster" required="true" value=(undefined===monsterinstance ? "" : monsterinstance.monster))
          each monster in monster_list
            if monsterinstance 
              option(value=monster._id selected=(monster._id.toString()===monsterinstance.monster._id.toString() ? 'selected' : false)) #{monster.name}
            else 
              option(value=monster._id) #{monster.name}
        label(for="family") Family: 
        select#family(type="select" name="family" required="true" value=(undefined===monsterinstance ? "" : monsterinstance.family))
          each family in family_list
            if monsterinstance 
              option(value=family._id selected=(family._id.toString()===monsterinstance.family._id.toString() ? 'selected' : false)) #{family.name}
            else 
              option(value=family._id) #{family.name}
      div.form-section
        ul 
          li
            label(for="health") Health:
            input#health(name="health" type="number" min=0 max=999 required="true" value=(undefined===monsterinstance ? "" : monsterinstance.health) )
          li
            label(for="magic") Magic: 
            input#magic(name="magic" type="number" min=0 max=999 required="true" value=(undefined===monsterinstance ? "" : monsterinstance.magic) )
          li
            label(for="attack") Attack: 
            input#attack(name="attack" type="number" min=0 max=999 required="true" value=(undefined===monsterinstance ? "" : monsterinstance.attack) )
          li
            label(for="defense") Defense: 
            input#defense(name="defense" type="number" min=0 max=999 required="true" value=(undefined===monsterinstance ? "" : monsterinstance.defense) )
          li
            label(for="agility") Agility: 
            input#agility(name="agility" type="number" min=0 max=999 required="true" value=(undefined===monsterinstance ? "" : monsterinstance.agility) )
          li
            label(for="intelligence") Intelligence: 
            input#intelligence(name="intelligence" type="number" min=0 max=999 required="true" value=(undefined===monsterinstance ? "" : monsterinstance.intelligence) )

      div.form-section Skill Selection: 
        - var n = 0;
        ul.skills 
          while n < 8
            li 
              label(for=`skill-${n}`) #{n + 1} - 
              select(id=`skill-${n}` name=`skill-${n}`)
                option(value=null) None
                each skill in skill_list
                  if monsterinstance
                    option(value=skill._id selected=(monsterinstance.skills[n]._id === skill._id)) #{skill.name}
                  else
                    option(value=skill._id) #{skill.name}
                else 
                  option No skills in database.
            - n++;
      div.form-section
        input#submit( type="submit" value="Submit Monster")